{"ast":null,"code":"import Operate from './Operate';\n\nfunction Calculate(state, button) {\n  num = \"0123456789\";\n\n  if (button === \"C\") {\n    return {\n      result: \"0\",\n      next: null,\n      operation: null\n    };\n  }\n\n  if (num.indexOf(button) != -1) {\n    if (button === \"0\" && state.next === \"0\") {\n      return {};\n    }\n\n    if (state.operation) {\n      //연산자가 있다면\n      if (state.next) {\n        return {\n          next: state.next + button\n        };\n      }\n\n      return {\n        next: button\n      };\n    }\n\n    if (state.next) {\n      const next = state.next === \"0\" ? button : state.next + button;\n      return {\n        next,\n        result: null\n      };\n    }\n\n    return {\n      next: button,\n      result: null\n    };\n  }\n\n  if (button === \".\") {\n    if (state.next) {\n      if (state.next.includes(\".\")) {\n        return {};\n      }\n\n      return {\n        next: state.next + \".\"\n      };\n    }\n\n    return {\n      next: \"0.\"\n    };\n  }\n\n  if (button === \"=\") {\n    if (state.next && state.operation) {\n      return {\n        result: Operate(state.result, state.next, state.operation),\n        next: null,\n        operation: null\n      };\n    }\n  }\n\n  if (state.operation) {\n    return {\n      total: Operate(state.result, state.next, state.operation),\n      next: null,\n      operation: button\n    };\n  }\n\n  if (!state.next) {\n    return {\n      operation: button\n    };\n  }\n\n  return {\n    result: state.next,\n    next: null,\n    operation: button\n  };\n}\n\nexport default Calculate;","map":{"version":3,"sources":["/home/parkji/react_calculator/src/Calculate.js"],"names":["Operate","Calculate","state","button","num","result","next","operation","indexOf","includes","total"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkC;AAC9BC,EAAAA,GAAG,GAAG,YAAN;;AACA,MAAID,MAAM,KAAK,GAAf,EAAoB;AAClB,WAAO;AACLE,MAAAA,MAAM,EAAE,GADH;AAELC,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAE;AAHN,KAAP;AAKD;;AAED,MAAIH,GAAG,CAACI,OAAJ,CAAYL,MAAZ,KAAuB,CAAC,CAA5B,EAA+B;AAC7B,QAAIA,MAAM,KAAK,GAAX,IAAkBD,KAAK,CAACI,IAAN,KAAe,GAArC,EAA0C;AACxC,aAAO,EAAP;AACD;;AAED,QAAIJ,KAAK,CAACK,SAAV,EAAqB;AAAE;AACrB,UAAIL,KAAK,CAACI,IAAV,EAAgB;AACd,eAAO;AAAEA,UAAAA,IAAI,EAAEJ,KAAK,CAACI,IAAN,GAAaH;AAArB,SAAP;AACD;;AACD,aAAO;AAAEG,QAAAA,IAAI,EAAEH;AAAR,OAAP;AACD;;AAED,QAAID,KAAK,CAACI,IAAV,EAAgB;AACd,YAAMA,IAAI,GAAGJ,KAAK,CAACI,IAAN,KAAe,GAAf,GAAqBH,MAArB,GAA8BD,KAAK,CAACI,IAAN,GAAaH,MAAxD;AACA,aAAO;AACLG,QAAAA,IADK;AAELD,QAAAA,MAAM,EAAE;AAFH,OAAP;AAID;;AACD,WAAO;AACLC,MAAAA,IAAI,EAAEH,MADD;AAELE,MAAAA,MAAM,EAAE;AAFH,KAAP;AAID;;AAED,MAAIF,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACI,IAAV,EAAgB;AACd,UAAIJ,KAAK,CAACI,IAAN,CAAWG,QAAX,CAAoB,GAApB,CAAJ,EAA8B;AAC5B,eAAO,EAAP;AACD;;AACD,aAAO;AAAEH,QAAAA,IAAI,EAAEJ,KAAK,CAACI,IAAN,GAAa;AAArB,OAAP;AACD;;AACD,WAAO;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAAP;AACD;;AAED,MAAIH,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACI,IAAN,IAAcJ,KAAK,CAACK,SAAxB,EAAmC;AACjC,aAAO;AACLF,QAAAA,MAAM,EAAEL,OAAO,CAACE,KAAK,CAACG,MAAP,EAAeH,KAAK,CAACI,IAArB,EAA2BJ,KAAK,CAACK,SAAjC,CADV;AAELD,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,SAAS,EAAE;AAHN,OAAP;AAKD;AACF;;AAED,MAAIL,KAAK,CAACK,SAAV,EAAqB;AACnB,WAAO;AACLG,MAAAA,KAAK,EAAEV,OAAO,CAACE,KAAK,CAACG,MAAP,EAAeH,KAAK,CAACI,IAArB,EAA2BJ,KAAK,CAACK,SAAjC,CADT;AAELD,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAEJ;AAHN,KAAP;AAKD;;AAED,MAAI,CAACD,KAAK,CAACI,IAAX,EAAiB;AACf,WAAO;AAAEC,MAAAA,SAAS,EAAEJ;AAAb,KAAP;AACD;;AAED,SAAO;AACLE,IAAAA,MAAM,EAAEH,KAAK,CAACI,IADT;AAELA,IAAAA,IAAI,EAAE,IAFD;AAGLC,IAAAA,SAAS,EAAEJ;AAHN,GAAP;AAKD;;AAED,eAAeF,SAAf","sourcesContent":["import Operate from './Operate'\n\nfunction Calculate(state, button) {\n    num = \"0123456789\"\n    if (button === \"C\") {\n      return {\n        result: \"0\",\n        next: null,\n        operation: null,\n      };\n    }\n    \n    if (num.indexOf(button) != -1) {\n      if (button === \"0\" && state.next === \"0\") {\n        return {};\n      }\n\n      if (state.operation) { //연산자가 있다면\n        if (state.next) {\n          return { next: state.next + button };\n        }\n        return { next: button };\n      }\n\n      if (state.next) {\n        const next = state.next === \"0\" ? button : state.next + button;\n        return {\n          next,\n          result: null,\n        };\n      }\n      return {\n        next: button,\n        result: null,\n      };\n    }\n   \n    if (button === \".\") {\n      if (state.next) {\n        if (state.next.includes(\".\")) {\n          return {};\n        }\n        return { next: state.next + \".\" };\n      }\n      return { next: \"0.\" };\n    }\n  \n    if (button === \"=\") {\n      if (state.next && state.operation) {\n        return {\n          result: Operate(state.result, state.next, state.operation),\n          next: null,\n          operation: null,\n        };\n      } \n    }\n  \n    if (state.operation) {\n      return {\n        total: Operate(state.result, state.next, state.operation),\n        next: null,\n        operation: button,\n      };\n    }\n\n    if (!state.next) {\n      return { operation: button };\n    }\n  \n    return {\n      result: state.next,\n      next: null,\n      operation: button,\n    };\n  }\n\n  export default Calculate;"]},"metadata":{},"sourceType":"module"}