{"ast":null,"code":"function doOperation(state) {\n  const operator = state.opeatorValue;\n  const preOperand = parseFloat(state.displayValue || \"0\");\n  const backOperand = parseFloat(state.nextValue || (operation === \"/\" || operation === '*' ? \"1\" : \"0\"));\n\n  if (operator === \"+\") {\n    return (preOperand + backOperand).toString();\n  }\n\n  if (operator === \"-\") {\n    return (preOperand - backOperand).toString();\n  }\n\n  if (operator === \"*\") {\n    return (preOperand * backOperand).toString();\n  }\n\n  if (operatior === \"/\") {\n    if (backOperand == \"0\") {\n      return \"NaN\";\n    }\n\n    if (backOperand != \"0\") {\n      return (preOperand / backOperand).toString();\n    }\n  }\n\n  throw Error(`Error`);\n}\n\nfunction calculate(state, button) {\n  var num = \"0123456789\";\n\n  if (button === \"C\") {\n    //클리어 버튼을 눌렀을 때\n    return {\n      displayValue: \"0\",\n      //디스플레이에 보여주는게 0\n      nextValue: null,\n      operatorValue: null\n    };\n  }\n\n  if (num.indexOf(button) !== -1) {\n    if (button === \"0\" && state.nextValue === \"0\") {\n      return {};\n    }\n\n    if (state.operatorValue) {\n      if (state.nextValue) {\n        return {\n          nextValue: state.nextValue + button\n        };\n      }\n\n      return {\n        nextValue: button\n      };\n    }\n\n    if (state.nextValue) {\n      const next = state.nextValue === \"0\" ? button : state.nextValue + button;\n      return {\n        nextValue: next,\n        displayValue: null\n      };\n    }\n\n    return {\n      nextValue: button,\n      displayValue: null\n    };\n  }\n\n  if (button === \".\") {\n    if (state.nextValue) {\n      if (state.nextValue.includes(\".\")) {\n        return {};\n      }\n\n      return {\n        nextValue: state.nextValue + \".\"\n      };\n    }\n\n    return {\n      nextValue: \"0.\"\n    };\n  }\n\n  if (button === \"=\") {\n    if (state.nextValue && state.operatorValue) {\n      return {\n        displayValue: doOperation(state),\n        nextValue: null,\n        operatorValue: null\n      };\n    }\n  }\n\n  if (state.operation) {\n    return {\n      displayValue: doOperation(state),\n      nextValue: null,\n      operatorValue: button\n    };\n  }\n\n  if (!state.nextValue) {\n    return {\n      operatorValue: button\n    };\n  }\n\n  return {\n    displayValue: state.nextValue,\n    nextValue: null,\n    operatorValue: button\n  };\n}\n\nexport default calculate;","map":{"version":3,"sources":["/home/parkji/react_calculator/src/calculate.js"],"names":["doOperation","state","operator","opeatorValue","preOperand","parseFloat","displayValue","backOperand","nextValue","operation","toString","operatior","Error","calculate","button","num","operatorValue","indexOf","next","includes"],"mappings":"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","sourcesContent":["function doOperation(state) {\n  const operator = state.opeatorValue\n  const preOperand = parseFloat(state.displayValue || \"0\")\n  const backOperand = parseFloat(state.nextValue || (operation === \"/\" || operation === '*' ? \"1\": \"0\"))\n  if (operator === \"+\") {\n    return (preOperand+backOperand).toString();\n  }\n  if (operator === \"-\") {\n    return (preOperand-backOperand).toString();\n  }\n  if (operator === \"*\") {\n    return (preOperand*backOperand).toString();\n  }\n  if (operatior === \"/\") {\n    if (backOperand == \"0\") {\n      return \"NaN\"; \n    } \n    if (backOperand != \"0\"){\n      return (preOperand/backOperand).toString();\n    }\n}   \n  throw Error(`Error`);\n}\n\nfunction calculate(state, button) {\n    var num = \"0123456789\"\n    if (button === \"C\") {//클리어 버튼을 눌렀을 때\n      return {\n        displayValue: \"0\", //디스플레이에 보여주는게 0\n        nextValue: null,\n        operatorValue: null,\n      };\n    }\n    \n    if (num.indexOf(button) !== -1) {\n      if (button === \"0\" && state.nextValue === \"0\") {\n        return {};\n      }\n\n      if (state.operatorValue) {\n        if (state.nextValue) {\n          return { nextValue: state.nextValue + button };\n        }\n        return { nextValue: button };\n      } \n\n      if (state.nextValue) {\n        const next = state.nextValue === \"0\" ? button : state.nextValue + button;\n        return {\n\t  nextValue: next,\n          displayValue: null, \n        };\n      }\n      return {\n        nextValue: button,\n        displayValue: null,\n      };\n    }\n   \n    if (button === \".\") {\n      if (state.nextValue) { \n        if (state.nextValue.includes(\".\")) {\n          return {};\n        }\n        return { nextValue: state.nextValue + \".\" };\n      }\n      return { nextValue: \"0.\" };\n    }\n  \n    if (button === \"=\") {\n      if (state.nextValue && state.operatorValue) {\n        return {\n          displayValue: doOperation(state),\n          nextValue: null,\n          operatorValue: null,\n        };\n      } \n    }\n  \n    if (state.operation) { \n      return {\n        displayValue: doOperation(state),\n        nextValue: null,\n        operatorValue: button,\n      };\n    }\n\n    if (!state.nextValue) {\n      return { operatorValue: button };\n    }\n  \n    return {\n      displayValue: state.nextValue,\n      nextValue: null,\n      operatorValue: button,\n    };\n  }\n\n  export default calculate;\n"]},"metadata":{},"sourceType":"module"}