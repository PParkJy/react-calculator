{"ast":null,"code":"import doOperation from './doOperation';\nimport clearAll from './clearAll';\n\nfunction calculate(state, button) {\n  if (button === \"C\") {\n    return clearAll();\n  }\n\n  if (button === \".\") {\n    if (state.nextValue) {\n      if (state.nextValue.includes(\".\")) {\n        return {};\n      }\n\n      return {\n        nextValue: state.nextValue + \".\"\n      };\n    }\n\n    return {\n      nextValue: \"0.\"\n    };\n  }\n\n  var num = \"0123456789\";\n\n  if (num.indexOf(button) !== -1) {\n    if (button === \"0\" && state.nextValue === \"0\") {\n      return {};\n    }\n\n    if (state.operatorValue) {\n      if (state.nextValue) {\n        return {\n          nextValue: state.nextValue + button\n        };\n      }\n\n      return {\n        nextValue: button\n      };\n    }\n\n    if (state.nextValue) {\n      const next = state.nextValue === \"0\" ? button : state.nextValue + button;\n      return {\n        nextValue: next,\n        displayValue: null\n      };\n    }\n\n    return {\n      nextValue: button,\n      displayValue: null\n    };\n  }\n\n  if (button === \"=\") {\n    if (state.nextValue && state.operatorValue) {\n      return {\n        displayValue: doOperation(state),\n        nextValue: null,\n        operatorValue: null\n      };\n    }\n  }\n\n  if (state.operation) {\n    return {\n      displayValue: doOperation(state),\n      nextValue: null,\n      operatorValue: button\n    };\n  }\n\n  if (!state.nextValue) {\n    return {\n      operatorValue: button\n    };\n  }\n\n  return {\n    displayValue: state.nextValue,\n    nextValue: null,\n    operatorValue: button\n  };\n}\n\nexport default calculate;","map":{"version":3,"sources":["/home/parkji/react_calculator/src/calculate.js"],"names":["doOperation","clearAll","calculate","state","button","nextValue","includes","num","indexOf","operatorValue","next","displayValue","operation"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,eAAxB;AACA,OAAOC,QAAP,MAAqB,YAArB;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkC;AAC9B,MAAIA,MAAM,KAAK,GAAf,EAAoB;AAClB,WAAOH,QAAQ,EAAf;AACD;;AAED,MAAIG,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACE,SAAV,EAAqB;AACnB,UAAIF,KAAK,CAACE,SAAN,CAAgBC,QAAhB,CAAyB,GAAzB,CAAJ,EAAmC;AACjC,eAAO,EAAP;AACD;;AACD,aAAO;AAAED,QAAAA,SAAS,EAAEF,KAAK,CAACE,SAAN,GAAkB;AAA/B,OAAP;AACD;;AACD,WAAO;AAAEA,MAAAA,SAAS,EAAE;AAAb,KAAP;AACD;;AAED,MAAIE,GAAG,GAAG,YAAV;;AACA,MAAIA,GAAG,CAACC,OAAJ,CAAYJ,MAAZ,MAAwB,CAAC,CAA7B,EAAgC;AAC9B,QAAIA,MAAM,KAAK,GAAX,IAAkBD,KAAK,CAACE,SAAN,KAAoB,GAA1C,EAA+C;AAC7C,aAAO,EAAP;AACD;;AAED,QAAIF,KAAK,CAACM,aAAV,EAAyB;AACvB,UAAIN,KAAK,CAACE,SAAV,EAAqB;AACnB,eAAO;AAAEA,UAAAA,SAAS,EAAEF,KAAK,CAACE,SAAN,GAAkBD;AAA/B,SAAP;AACD;;AACD,aAAO;AAAEC,QAAAA,SAAS,EAAED;AAAb,OAAP;AACD;;AAED,QAAID,KAAK,CAACE,SAAV,EAAqB;AACnB,YAAMK,IAAI,GAAGP,KAAK,CAACE,SAAN,KAAoB,GAApB,GAA0BD,MAA1B,GAAmCD,KAAK,CAACE,SAAN,GAAkBD,MAAlE;AACA,aAAO;AACNC,QAAAA,SAAS,EAAEK,IADL;AAELC,QAAAA,YAAY,EAAE;AAFT,OAAP;AAID;;AACD,WAAO;AACLN,MAAAA,SAAS,EAAED,MADN;AAELO,MAAAA,YAAY,EAAE;AAFT,KAAP;AAID;;AAQD,MAAIP,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACE,SAAN,IAAmBF,KAAK,CAACM,aAA7B,EAA4C;AAC1C,aAAO;AACLE,QAAAA,YAAY,EAAEX,WAAW,CAACG,KAAD,CADpB;AAELE,QAAAA,SAAS,EAAE,IAFN;AAGLI,QAAAA,aAAa,EAAE;AAHV,OAAP;AAKD;AACF;;AAED,MAAIN,KAAK,CAACS,SAAV,EAAqB;AACnB,WAAO;AACLD,MAAAA,YAAY,EAAEX,WAAW,CAACG,KAAD,CADpB;AAELE,MAAAA,SAAS,EAAE,IAFN;AAGLI,MAAAA,aAAa,EAAEL;AAHV,KAAP;AAKD;;AAED,MAAI,CAACD,KAAK,CAACE,SAAX,EAAsB;AACpB,WAAO;AAAEI,MAAAA,aAAa,EAAEL;AAAjB,KAAP;AACD;;AAED,SAAO;AACLO,IAAAA,YAAY,EAAER,KAAK,CAACE,SADf;AAELA,IAAAA,SAAS,EAAE,IAFN;AAGLI,IAAAA,aAAa,EAAEL;AAHV,GAAP;AAKD;;AAED,eAAeF,SAAf","sourcesContent":["import doOperation from './doOperation'\nimport clearAll from './clearAll'\n\nfunction calculate(state, button) {\n    if (button === \"C\") {\n      return clearAll()\n    }\n\n    if (button === \".\") {\n      if (state.nextValue) { \n        if (state.nextValue.includes(\".\")) {\n          return {};\n        }\n        return { nextValue: state.nextValue + \".\" };\n      }\n      return { nextValue: \"0.\" };\n    }\n\n    var num = \"0123456789\" \n    if (num.indexOf(button) !== -1) {\n      if (button === \"0\" && state.nextValue === \"0\") {\n        return {};\n      }\n\n      if (state.operatorValue) {\n        if (state.nextValue) {\n          return { nextValue: state.nextValue + button };\n        }\n        return { nextValue: button };\n      } \n\n      if (state.nextValue) {\n        const next = state.nextValue === \"0\" ? button : state.nextValue + button;\n        return {\n\t        nextValue: next,\n          displayValue: null, \n        };\n      }\n      return {\n        nextValue: button,\n        displayValue: null,\n      };\n    }\n   \n\n\n\n\n\n  \n    if (button === \"=\") {\n      if (state.nextValue && state.operatorValue) {\n        return {\n          displayValue: doOperation(state),\n          nextValue: null,\n          operatorValue: null,\n        };\n      } \n    }\n  \n    if (state.operation) { \n      return {\n        displayValue: doOperation(state),\n        nextValue: null,\n        operatorValue: button,\n      };\n    }\n\n    if (!state.nextValue) {\n      return { operatorValue: button };\n    }\n  \n    return {\n      displayValue: state.nextValue,\n      nextValue: null,\n      operatorValue: button,\n    };\n  }\n\n  export default calculate;\n"]},"metadata":{},"sourceType":"module"}