{"ast":null,"code":"import Operate from './Operate';\nnum_list = \"0123456789\";\n\nfunction Calculate(state, button) {\n  if (button === \"C\") {\n    return {\n      result: \"0\",\n      next: null,\n      operation: null\n    };\n  }\n\n  if (num_list.indexOf(button) != -1) {\n    if (button === \"0\" && state.next === \"0\") {\n      return {};\n    }\n\n    if (state.operation) {\n      //연산자가 있다면\n      if (state.next) {\n        return {\n          next: state.next + button\n        };\n      }\n\n      return {\n        next: button\n      };\n    }\n\n    if (state.next) {\n      const next = state.next === \"0\" ? button : state.next + button;\n      return {\n        next,\n        result: null\n      };\n    }\n\n    return {\n      next: button,\n      result: null\n    };\n  }\n\n  if (button === \".\") {\n    if (state.next) {\n      if (state.next.includes(\".\")) {\n        return {};\n      }\n\n      return {\n        next: state.next + \".\"\n      };\n    }\n\n    return {\n      next: \"0.\"\n    };\n  }\n\n  if (button === \"=\") {\n    if (state.next && state.operation) {\n      return {\n        result: Operate(state.result, state.next, state.operation),\n        next: null,\n        operation: null\n      };\n    }\n  }\n\n  if (state.operation) {\n    return {\n      total: Operate(state.result, state.next, state.operation),\n      next: null,\n      operation: button\n    };\n  }\n\n  if (!state.next) {\n    return {\n      operation: button\n    };\n  }\n\n  return {\n    result: state.next,\n    next: null,\n    operation: button\n  };\n}\n\nexport default Calculate;","map":{"version":3,"sources":["/home/parkji/react_calculator/src/Calculate.js"],"names":["Operate","num_list","Calculate","state","button","result","next","operation","indexOf","includes","total"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,WAApB;AAGAC,QAAQ,GAAG,YAAX;;AAEA,SAASC,SAAT,CAAmBC,KAAnB,EAA0BC,MAA1B,EAAkC;AAC9B,MAAIA,MAAM,KAAK,GAAf,EAAoB;AAClB,WAAO;AACLC,MAAAA,MAAM,EAAE,GADH;AAELC,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAE;AAHN,KAAP;AAKD;;AAED,MAAIN,QAAQ,CAACO,OAAT,CAAiBJ,MAAjB,KAA4B,CAAC,CAAjC,EAAoC;AAClC,QAAIA,MAAM,KAAK,GAAX,IAAkBD,KAAK,CAACG,IAAN,KAAe,GAArC,EAA0C;AACxC,aAAO,EAAP;AACD;;AAED,QAAIH,KAAK,CAACI,SAAV,EAAqB;AAAE;AACrB,UAAIJ,KAAK,CAACG,IAAV,EAAgB;AACd,eAAO;AAAEA,UAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,GAAaF;AAArB,SAAP;AACD;;AACD,aAAO;AAAEE,QAAAA,IAAI,EAAEF;AAAR,OAAP;AACD;;AAED,QAAID,KAAK,CAACG,IAAV,EAAgB;AACd,YAAMA,IAAI,GAAGH,KAAK,CAACG,IAAN,KAAe,GAAf,GAAqBF,MAArB,GAA8BD,KAAK,CAACG,IAAN,GAAaF,MAAxD;AACA,aAAO;AACLE,QAAAA,IADK;AAELD,QAAAA,MAAM,EAAE;AAFH,OAAP;AAID;;AACD,WAAO;AACLC,MAAAA,IAAI,EAAEF,MADD;AAELC,MAAAA,MAAM,EAAE;AAFH,KAAP;AAID;;AAED,MAAID,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACG,IAAV,EAAgB;AACd,UAAIH,KAAK,CAACG,IAAN,CAAWG,QAAX,CAAoB,GAApB,CAAJ,EAA8B;AAC5B,eAAO,EAAP;AACD;;AACD,aAAO;AAAEH,QAAAA,IAAI,EAAEH,KAAK,CAACG,IAAN,GAAa;AAArB,OAAP;AACD;;AACD,WAAO;AAAEA,MAAAA,IAAI,EAAE;AAAR,KAAP;AACD;;AAED,MAAIF,MAAM,KAAK,GAAf,EAAoB;AAClB,QAAID,KAAK,CAACG,IAAN,IAAcH,KAAK,CAACI,SAAxB,EAAmC;AACjC,aAAO;AACLF,QAAAA,MAAM,EAAEL,OAAO,CAACG,KAAK,CAACE,MAAP,EAAeF,KAAK,CAACG,IAArB,EAA2BH,KAAK,CAACI,SAAjC,CADV;AAELD,QAAAA,IAAI,EAAE,IAFD;AAGLC,QAAAA,SAAS,EAAE;AAHN,OAAP;AAKD;AACF;;AAED,MAAIJ,KAAK,CAACI,SAAV,EAAqB;AACnB,WAAO;AACLG,MAAAA,KAAK,EAAEV,OAAO,CAACG,KAAK,CAACE,MAAP,EAAeF,KAAK,CAACG,IAArB,EAA2BH,KAAK,CAACI,SAAjC,CADT;AAELD,MAAAA,IAAI,EAAE,IAFD;AAGLC,MAAAA,SAAS,EAAEH;AAHN,KAAP;AAKD;;AAED,MAAI,CAACD,KAAK,CAACG,IAAX,EAAiB;AACf,WAAO;AAAEC,MAAAA,SAAS,EAAEH;AAAb,KAAP;AACD;;AAED,SAAO;AACLC,IAAAA,MAAM,EAAEF,KAAK,CAACG,IADT;AAELA,IAAAA,IAAI,EAAE,IAFD;AAGLC,IAAAA,SAAS,EAAEH;AAHN,GAAP;AAKD;;AAED,eAAeF,SAAf","sourcesContent":["import Operate from './Operate'\n\n\nnum_list = \"0123456789\"\n\nfunction Calculate(state, button) {\n    if (button === \"C\") {\n      return {\n        result: \"0\",\n        next: null,\n        operation: null,\n      };\n    }\n    \n    if (num_list.indexOf(button) != -1) {\n      if (button === \"0\" && state.next === \"0\") {\n        return {};\n      }\n\n      if (state.operation) { //연산자가 있다면\n        if (state.next) {\n          return { next: state.next + button };\n        }\n        return { next: button };\n      }\n\n      if (state.next) {\n        const next = state.next === \"0\" ? button : state.next + button;\n        return {\n          next,\n          result: null,\n        };\n      }\n      return {\n        next: button,\n        result: null,\n      };\n    }\n   \n    if (button === \".\") {\n      if (state.next) {\n        if (state.next.includes(\".\")) {\n          return {};\n        }\n        return { next: state.next + \".\" };\n      }\n      return { next: \"0.\" };\n    }\n  \n    if (button === \"=\") {\n      if (state.next && state.operation) {\n        return {\n          result: Operate(state.result, state.next, state.operation),\n          next: null,\n          operation: null,\n        };\n      } \n    }\n  \n    if (state.operation) {\n      return {\n        total: Operate(state.result, state.next, state.operation),\n        next: null,\n        operation: button,\n      };\n    }\n\n    if (!state.next) {\n      return { operation: button };\n    }\n  \n    return {\n      result: state.next,\n      next: null,\n      operation: button,\n    };\n  }\n\n  export default Calculate;"]},"metadata":{},"sourceType":"module"}